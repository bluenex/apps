(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1704)}])},1704:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var i=t(4924),o=t(6042),s=t(9396),c=t(828),a=t(9815),l=t(5893),r=t(7294),d=t(7219),u=t(8575),x=t(5678),m=t(7632),f=function(e){return(0,l.jsx)("button",(0,s.Z)((0,o.Z)({},e),{className:(0,u.m)("active:scale-95",e.className)}))},p=function(e){var n=e.onClickAdd,t=e.onClickClearAll,i=(0,r.useState)(!1),o=i[0],s=i[1];return(0,l.jsxs)("div",{className:"fixed bottom-6 right-6 flex flex-col justify-end gap-4",children:[(0,l.jsxs)("div",{className:(0,u.m)("shadow-common pointer-events-none grid translate-x-[200%] gap-1.5 rounded-2xl bg-neutral-500 p-1 transition-all duration-300","ml-auto w-fit",o&&"pointer-events-auto translate-x-0"),children:[(0,l.jsx)(f,{className:"mx-auto rounded-2xl bg-green-800 p-6",onClick:function(){n("income"),s(!1)},children:(0,l.jsx)(d.OvN,{className:"text-2xl"})}),(0,l.jsx)(f,{className:"mx-auto rounded-2xl bg-red-800 p-6",onClick:function(){n("expense"),s(!1)},children:(0,l.jsx)(d.ego,{className:"text-2xl"})})]}),(0,l.jsxs)("div",{className:"ml-auto",children:[(0,l.jsx)(f,{className:"shadow-common mr-3 rounded-full bg-red-500 bg-opacity-75 p-2.5",onClick:t,children:(0,l.jsx)(d.Ybf,{className:"text"})}),(0,l.jsx)(f,{className:"shadow-common rounded-full bg-sky-700 bg-opacity-75 p-5",onClick:function(){return s((function(e){return!e}))},children:(0,l.jsx)(d.OvN,{className:"text-2xl"})})]})]})},b=function(e){var n,t=e.addingType,i=e.amountHook,o=e.noteHook,s=e.onSave,a=e.onClose,r=e.className,x=e.editingId,m=(0,c.Z)(i,2),p=m[0],b=m[1],h=(0,c.Z)(o,2),v=h[0],g=h[1];return(0,l.jsxs)("div",{className:(0,u.m)("fixed top-[10%]","shadow-common fixed left-[5%] w-[calc(100%-10%)] rounded-2xl bg-neutral-500 p-5","sm:left-[25%] sm:max-w-[50%] xl:left-[37.5%] xl:max-w-[25%]","pointer-events-none translate-x-[100vw] transition-all duration-300","hidden"!==t&&"pointer-events-auto translate-x-0",r),onKeyDown:function(e){if("Enter"===e.code||13===e.keyCode){if(!p||"hidden"===t)return;s(t,p,v,x),a(),b(void 0),g("")}},children:[(0,l.jsxs)("header",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold",children:["Adding ",(0,l.jsx)("span",{className:(0,u.m)("income"===t&&"text-green-400","expense"===t&&"text-red-300"),children:(n=t,n&&"".concat(n[0].toUpperCase()).concat(n.slice(1)))})]}),(0,l.jsx)(f,{onClick:function(){a(),b(void 0),g("")},children:(0,l.jsx)(d.q5L,{className:"text-2xl"})})]}),(0,l.jsxs)("div",{id:"amount-group",className:"mb-4 flex flex-col",children:[(0,l.jsx)("label",{htmlFor:"amount",className:"mb-1 text-lg font-bold",children:"Amount"}),(0,l.jsx)("input",{className:(0,u.m)("border-b-2 border-b-neutral-100 bg-transparent text-lg font-bold tracking-widest","income"===t&&"text-green-400","expense"===t&&"text-red-300"),type:"number",name:"amount",id:"amount",value:p||"",onChange:function(e){return b(Number(e.target.value))}})]}),(0,l.jsxs)("div",{id:"note-group",className:"mb-8 flex flex-col",children:[(0,l.jsx)("label",{htmlFor:"note",className:"mb-1 text-lg font-bold",children:"Note"}),(0,l.jsx)("input",{className:"break-words border-b-2 border-b-neutral-100 bg-transparent text-lg font-bold tracking-wide",type:"text",name:"note",id:"note",value:v,onChange:function(e){return g(e.target.value)}})]}),(0,l.jsx)(f,{className:"shadow-common w-full rounded-2xl bg-sky-700 py-4 px-8 text-lg",onClick:function(){p&&"hidden"!==t&&(s(t,p,v,x),a(),b(void 0),g(""))},children:"Save"})]})},h=function(e){var n=e.children,t=e.className;return(0,l.jsxs)("div",{className:(0,u.m)("h-screen w-screen overflow-x-hidden bg-neutral-700 text-gray-100",t),children:[(0,l.jsx)("header",{className:"flex h-14 items-center bg-neutral-600 bg-opacity-60 shadow-md",children:(0,l.jsx)("div",{className:"container mx-auto px-4",children:(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Simple Budget"})})}),(0,l.jsx)("div",{className:"container mx-auto px-4 py-6",children:n})]})},v=function(e){return e.reduce((function(e,n){return e+n.amount}),0)},g={expense:[],income:[]},j=function(e){var n=e.itemData,t=e.itemType,i=e.isMenuVisible,o=e.onClick,s=e.onMoveUp,c=e.canMoveUp,a=e.onMoveDown,r=e.canMoveDown,x=e.onSetPin,m=e.onPressEdit,p=e.onPressDelete;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:(0,u.m)("pointer-events-none h-0 w-full rounded-t bg-black bg-opacity-25 opacity-0 transition-all duration-300","flex justify-evenly text-lg",i&&"pointer-events-auto h-10 opacity-100"),children:[(0,l.jsx)(f,{className:"grid flex-1 place-content-center disabled:text-neutral-500",disabled:!c,onClick:s,children:(0,l.jsx)(d.iRh,{})}),(0,l.jsx)(f,{className:"grid flex-1 place-content-center disabled:text-neutral-500",disabled:!r,onClick:a,children:(0,l.jsx)(d.tv1,{})}),(0,l.jsx)(f,{className:"grid flex-1 place-content-center disabled:text-neutral-500",onClick:x,children:(0,l.jsx)(d.i1c,{})}),(0,l.jsx)(f,{className:"grid flex-1 place-content-center",onClick:m,children:(0,l.jsx)(d.vPQ,{})}),(0,l.jsx)(f,{className:"grid flex-1 place-content-center",onClick:p,children:(0,l.jsx)(d.Ybf,{})})]}),(0,l.jsxs)("div",{className:(0,u.m)("mb-0.5 flex w-full justify-between p-0.5 px-2 active:bg-black active:bg-opacity-10",i&&"bg-black bg-opacity-25"),onClick:function(){return o()},children:[(0,l.jsx)("p",{children:n.note}),(0,l.jsx)("p",{className:(0,u.m)("expense"===t&&"text-red-300","income"===t&&"text-green-400"),children:"".concat("expense"===t?"-":"+").concat(n.amount)})]})]})},N=function(e){var n=e.itemData,t=e.itemType,i=e.isMenuVisible,o=e.onClick,s=e.onSetPin,c=e.onPressEdit;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:(0,u.m)("pointer-events-none h-0 w-full rounded-t bg-black bg-opacity-25 opacity-0 transition-all duration-300","flex justify-evenly text-lg",i&&"pointer-events-auto h-10 opacity-100"),children:[(0,l.jsx)(f,{className:"grid flex-1 place-content-center disabled:text-neutral-500",onClick:s,children:(0,l.jsx)(d.nlg,{})}),(0,l.jsx)(f,{className:"grid flex-1 place-content-center",onClick:c,children:(0,l.jsx)(d.vPQ,{})})]}),(0,l.jsxs)("div",{className:(0,u.m)("mb-0.5 flex w-full justify-between p-0.5 px-2 font-semibold active:bg-black active:bg-opacity-10",i&&"bg-black bg-opacity-25"),onClick:function(){return o()},children:[(0,l.jsxs)("p",{className:"flex items-center gap-1",children:[(0,l.jsx)(d.i1c,{}),n.note]}),(0,l.jsx)("p",{className:(0,u.m)("expense"===t&&"text-red-300","income"===t&&"text-green-400"),children:"".concat("expense"===t?"-":"+").concat(n.amount)})]})]})},k=function(e){var n=e.amount,t=e.itemType;return(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{className:"my-2"}),(0,l.jsxs)("div",{className:"flex w-full justify-between px-2",children:[(0,l.jsx)("p",{className:"font-bold",children:"Total:"}),(0,l.jsx)("p",{className:(0,u.m)("expense"===t&&"text-red-300","income"===t&&"text-green-400"),children:"".concat("expense"===t?"-":"+").concat(n)})]})]})},y=function(e){var n=e.value;return(0,l.jsx)("div",{className:(0,u.m)("w-full rounded-2xl p-6 text-center text-xl font-bold tracking-wider shadow",n>0&&"bg-green-800 bg-opacity-30",0===n&&"bg-neutral-800 bg-opacity-30",n<0&&"bg-red-800 bg-opacity-30"),children:(0,l.jsx)("p",{children:"".concat(n>0?"+":"").concat(n)})})},w=function(){var e=(0,c.Z)((0,x._)("simple-budget-data",g),2),n=e[0],t=e[1],d=(0,r.useState)(g),u=d[0],f=d[1],w=(0,r.useState)("hidden"),C=w[0],Z=w[1],P=(0,r.useState)(),M=P[0],D=P[1],S=(0,r.useState)(),E=(0,r.useState)(""),T=(0,r.useState)(),_=T[0],A=T[1],O=(0,c.Z)(S,2)[1],U=(0,c.Z)(E,2)[1],V=(0,r.useCallback)((function(e,n,c,l){t((function(t){var r={id:(0,m.Z)(),amount:n,note:c,isPinned:!1};if(l){var d=t[e].find((function(e){return e.id===l}));if(!d)return t;(r=d).id=l,r.amount=n,r.note=c;var u=v(t.income)-v(t.expense);return A(void 0),(0,s.Z)((0,o.Z)({},t),{diff:u})}var x=(0,s.Z)((0,o.Z)({},t),(0,i.Z)({},e,(0,a.Z)(t[e]).concat([r]))),f=v(x.income)-v(x.expense);return(0,s.Z)((0,o.Z)({},x),{diff:f})}))}),[t]),L=(0,r.useCallback)((function(e,n){t((function(t){var c=t[e].find((function(e){return e.id===n}));if(!c)return t;var l=t[e].indexOf(c),r=t[e][l-1];return(0,s.Z)((0,o.Z)({},t),(0,i.Z)({},e,(0,a.Z)(t[e].slice(0,l-1)).concat([c,r],(0,a.Z)(t[e].slice(l+1)))))}))}),[t]),F=(0,r.useCallback)((function(e,n){t((function(t){var c=t[e].find((function(e){return e.id===n}));if(!c)return t;var l=t[e].indexOf(c),r=t[e][l+1];return(0,s.Z)((0,o.Z)({},t),(0,i.Z)({},e,(0,a.Z)(t[e].slice(0,l)).concat([r,c],(0,a.Z)(t[e].slice(l+2)))))}))}),[t]),H=(0,r.useCallback)((function(e,n,i){t((function(t){var o=t[e].find((function(e){return e.id===n}));return o?(o.isPinned=i,t):t})),D(void 0)}),[t]),Y=(0,r.useCallback)((function(e,n,c){confirm('Are you sure to delete "'.concat(c,'"?'))&&t((function(t){var c=t[e].find((function(e){return e.id===n}));if(!c)return t;var l=t[e].indexOf(c);return(0,s.Z)((0,o.Z)({},t),(0,i.Z)({},e,(0,a.Z)(t[e].slice(0,l)).concat((0,a.Z)(t[e].slice(l+1)))))}))}),[t]),I=(0,r.useCallback)((function(){confirm("Are you sure to clear all the data?")&&confirm("Are you REALLY REALLTY sure to clear all the data?")&&t(g)}),[t]);return(0,r.useEffect)((function(){f(n)}),[n]),(0,l.jsxs)(h,{children:[(0,l.jsxs)("main",{children:[0===u.expense.length&&0===u.income.length&&"No record!",(0,l.jsxs)("section",{id:"render-data",children:[u.expense.length>0&&(0,l.jsxs)("div",{id:"expense",className:"mb-6",children:[(0,l.jsx)("h2",{className:"mb-2 text-lg font-bold",children:"Expense"}),u.expense.map((function(e){return e.isPinned&&(0,l.jsx)(N,{itemType:"expense",itemData:e,isMenuVisible:M===e.id,onClick:function(){return D((function(n){return e.id!==n?e.id:void 0}))},onSetPin:function(){H("expense",e.id,!1)},onPressEdit:function(){A(e.id),O(e.amount),U(e.note),Z("expense")}},e.id)})),u.expense.map((function(e,n,t){return!e.isPinned&&(0,l.jsx)(j,{itemType:"expense",itemData:e,isMenuVisible:M===e.id,onClick:function(){return D((function(n){return e.id!==n?e.id:void 0}))},canMoveUp:0!==n,onMoveUp:function(){L("expense",e.id)},canMoveDown:n!==t.length-1,onMoveDown:function(){F("expense",e.id)},onSetPin:function(){H("expense",e.id,!0)},onPressEdit:function(){A(e.id),O(e.amount),U(e.note),Z("expense")},onPressDelete:function(){Y("expense",e.id,e.note)}},e.id)})),(0,l.jsx)(k,{itemType:"expense",amount:v(u.expense)})]}),u.income.length>0&&(0,l.jsxs)("div",{id:"income",className:"mb-6",children:[(0,l.jsx)("h2",{className:"mb-2 text-lg font-bold",children:"Income"}),u.income.map((function(e){return e.isPinned&&(0,l.jsx)(N,{itemType:"income",itemData:e,isMenuVisible:M===e.id,onClick:function(){return D((function(n){return e.id!==n?e.id:void 0}))},onSetPin:function(){H("income",e.id,!0)},onPressEdit:function(){A(e.id),O(e.amount),U(e.note),Z("income")}},e.id)})),u.income.map((function(e,n,t){return!e.isPinned&&(0,l.jsx)(j,{itemType:"income",itemData:e,isMenuVisible:M===e.id,onClick:function(){return D((function(n){return e.id!==n?e.id:void 0}))},canMoveUp:0!==n,onMoveUp:function(){L("income",e.id)},canMoveDown:n!==t.length-1,onMoveDown:function(){F("income",e.id)},onSetPin:function(){H("income",e.id,!0)},onPressEdit:function(){A(e.id),O(e.amount),U(e.note),Z("income")},onPressDelete:function(){Y("expense",e.id,e.note)}},e.id)})),(0,l.jsx)(k,{itemType:"income",amount:v(u.income)})]}),void 0!==(null===u||void 0===u?void 0:u.diff)&&(0,l.jsxs)("div",{id:"diff",className:"mb-6",children:[(0,l.jsx)("h2",{className:"mb-2 text-lg font-bold",children:"Diff"}),(0,l.jsx)(y,{value:u.diff})]})]})]}),(0,l.jsxs)("section",{id:"control",children:[(0,l.jsx)(b,{addingType:C,amountHook:S,noteHook:E,onSave:V,onClose:function(){return Z("hidden")},editingId:_}),(0,l.jsx)(p,{onClickAdd:function(e){return Z(e)},onClickClearAll:I})]})]})}}},function(e){e.O(0,[489,774,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);